---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

interface Props {
  src: string;
  title: string;
  clases?: string; 
  id?: string;
}

const { src, title, clases, id } = Astro.props;

// Ajusta el patr√≥n para incluir archivos .webp
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/*.{jpeg,jpg,png,gif,webp}"
);

if (!images[src] && !src.startsWith('http')) {
  throw new Error(`${src} does not exist in glob: 'src/assets/*.{jpeg,jpg,png,gif,webp}'`);
}
---

{src.startsWith('http') ? (
  <img id={id} src={src} alt={title} class={` ${clases || ''}`} />
) : (
  <Image id={id} src={images[src]()} alt={title} class={` ${clases || ''}`} />
)}